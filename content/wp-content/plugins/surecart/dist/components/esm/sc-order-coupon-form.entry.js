import{r as registerInstance,c as createEvent,h}from"./index-fd4790f6.js";import{o as openWormhole}from"./consumer-b5087188.js";import{i as isRtl}from"./page-align-8602c4c7.js";const scOrderCouponFormCss=":host{display:block}.coupon-form{position:relative}.form{opacity:0;visibility:hidden;height:0;transition:opacity var(--sc-transition-fast) ease-in-out}.coupon-form--is-open .form{opacity:1;visibility:visible;height:auto;margin-top:var(--sc-spacing-small);display:grid;gap:var(--sc-spacing-small)}.coupon-form--is-open .trigger{color:var(--sc-input-label-color)}.coupon-form--is-open .trigger:hover{text-decoration:none}.trigger{cursor:pointer;font-size:var(--sc-font-size-small);color:var(--sc-color-gray-500);user-select:none}.trigger:hover{text-decoration:underline}.order-coupon-form--is-rtl .trigger,.order-coupon-form--is-rtl .trigger:hover{text-align:right}",ScOrderCouponForm=class{constructor(o){registerInstance(this,o),this.scApplyCoupon=createEvent(this,"scApplyCoupon",7)}handleErrorsChange(){var o;const r=((null===(o=null==this?void 0:this.error)||void 0===o?void 0:o.additional_errors)||[]).find((o=>{var r;return"discount.promotion_code"===(null===(r=null==o?void 0:o.data)||void 0===r?void 0:r.attribute)}));this.errorMessage=(null==r?void 0:r.message)?null==r?void 0:r.message:""}render(){var o,r,i,e,s,t;return h("sc-coupon-form",{label:this.label||wp.i18n.__("Add Coupon Code","surecart"),collapsed:this.collapsed,placeholder:this.placeholder,loading:this.busy&&!(null===(i=null===(r=null===(o=this.order)||void 0===o?void 0:o.line_items)||void 0===r?void 0:r.data)||void 0===i?void 0:i.length),busy:this.busy,error:this.errorMessage,discount:null===(e=null==this?void 0:this.order)||void 0===e?void 0:e.discount,currency:null===(s=null==this?void 0:this.order)||void 0===s?void 0:s.currency,"discount-amount":null===(t=null==this?void 0:this.order)||void 0===t?void 0:t.discount_amount,class:{"order-coupon-form--is-rtl":isRtl()},"button-text":this.buttonText||wp.i18n.__("Apply","surecart")})}static get watchers(){return{error:["handleErrorsChange"]}}};openWormhole(ScOrderCouponForm,["loading","busy","order","error"],!1),ScOrderCouponForm.style=scOrderCouponFormCss;export{ScOrderCouponForm as sc_order_coupon_form};