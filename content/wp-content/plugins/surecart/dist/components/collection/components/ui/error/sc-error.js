import{Component,h,Event,Listen,Watch,Prop}from"@stencil/core";import{__}from"@wordpress/i18n";export class ScFormErrorProvider{handleErrorUpdate(r){this.scUpdateError.emit(r)}handleErrorEvent(r){this.error=r.detail}getErrorMessage(r){return"order.line_items.price.blank"===r.code?__("This product is no longer purchasable.","surecart"):null==r?void 0:r.message}errorMessage(){var r,e,t,o,s,i;return(null===(t=null===(e=null===(r=this.error)||void 0===r?void 0:r.additional_errors)||void 0===e?void 0:e[0])||void 0===t?void 0:t.message)?this.getErrorMessage(null===(s=null===(o=this.error)||void 0===o?void 0:o.additional_errors)||void 0===s?void 0:s[0]):(null===(i=null==this?void 0:this.error)||void 0===i?void 0:i.message)?this.getErrorMessage(null==this?void 0:this.error):""}render(){return this.errorMessage()?h("sc-alert",{exportparts:"base, icon, text, title, message, close",type:"danger",scrollOnOpen:!0,open:!!this.errorMessage()},h("span",{slot:"title"},this.errorMessage())):null}static get is(){return"sc-error"}static get encapsulation(){return"shadow"}static get properties(){return{error:{type:"unknown",mutable:!1,complexType:{original:"ResponseError | null",resolved:"ResponseError",references:{ResponseError:{location:"import",path:"../../../types"}}},required:!1,optional:!1,docs:{tags:[],text:"Error to display."}}}}static get events(){return[{method:"scUpdateError",name:"scUpdateError",bubbles:!0,cancelable:!0,composed:!0,docs:{tags:[],text:"Set the state."},complexType:{original:"ResponseError",resolved:"ResponseError",references:{ResponseError:{location:"import",path:"../../../types"}}}}]}static get watchers(){return[{propName:"error",methodName:"handleErrorUpdate"}]}static get listeners(){return[{name:"scError",method:"handleErrorEvent",target:void 0,capture:!1,passive:!1}]}}