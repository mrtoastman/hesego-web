import{r as registerInstance,h,F as Fragment}from"./index-fd4790f6.js";import{a as checkoutIsLocked}from"./getters-edc6a0db.js";import{a as availableProcessors}from"./getters-c6fb954d.js";import{s as state}from"./watchers-e86a5dda.js";import{o as openWormhole}from"./consumer-b5087188.js";import"./watchers-0c79cf4e.js";import"./index-26bbcef3.js";import"./add-query-args-f4c5962b.js";import"./util-1396ff7b.js";const getProcessorData=(e=[],t,s)=>{var r;return(null===(r=(e||[]).find((e=>(null==e?void 0:e.processor_type)===t&&(null==e?void 0:e.live_mode)===!("live"!==s))))||void 0===r?void 0:r.processor_data)||{}},scOrderSubmitCss="sc-order-submit{display:block;width:auto;display:grid;gap:var(--sc-form-row-spacing)}.sc-secure-notice{display:flex;justify-content:center}",ScOrderSubmit=class{constructor(e){registerInstance(this,e),this.type="primary",this.size="medium",this.full=!0,this.mode="live",this.currencyCode="usd",this.secureNotice=!0}renderPayPalButton(e){const{client_id:t,account_id:s,merchant_initiated_enabled:r}=getProcessorData(availableProcessors(),"paypal",this.mode);return t||s?h("sc-paypal-buttons",{buttons:e,busy:this.busy||checkoutIsLocked(),mode:this.mode,order:this.order,merchantInitiated:r,"currency-code":this.currencyCode,"client-id":t,"merchant-id":s,label:"checkout",color:"blue"}):null}render(){return h(Fragment,null,"paypal"===state.id&&!(null==state?void 0:state.method)&&this.renderPayPalButton(["paypal"]),"paypal"===state.id&&"card"===(null==state?void 0:state.method)&&this.renderPayPalButton(["card"]),h("sc-button",{hidden:["paypal","paypal-card"].includes(state.id),submit:!0,type:this.type,size:this.size,full:this.full,loading:this.loading||this.paying,disabled:this.loading||this.paying||this.busy||checkoutIsLocked()},!!this.icon&&h("sc-icon",{name:this.icon,slot:"prefix"}),h("slot",null,wp.i18n.__("Purchase","surecart")),this.showTotal&&h("span",null,"Â ",h("sc-total",null))),this.secureNotice&&"https:"===location.protocol&&h("div",{class:"sc-secure-notice"},h("sc-secure-notice",null,this.secureNoticeText||wp.i18n.__("This is a secure, encrypted payment.","surecart"))))}};openWormhole(ScOrderSubmit,["busy","loading","paying","processors","processor","mode","currencyCode","order"],!1),ScOrderSubmit.style=scOrderSubmitCss;export{ScOrderSubmit as sc_order_submit};