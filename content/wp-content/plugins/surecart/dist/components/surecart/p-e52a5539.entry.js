import{r,h as l,H as o}from"./p-dfbe004d.js";import{s as n}from"./p-ea78c070.js";import{c as u}from"./p-f56cd460.js";import"./p-35c4916d.js";import"./p-10aa7556.js";import"./p-1c2e2695.js";const e=r=>{var o;return((null===(o=null==r?void 0:r.line_items)||void 0===o?void 0:o.data)||[]).map((({price:r})=>{var o;return null===(o=null==r?void 0:r.product)||void 0===o?void 0:o.id}))},s=r=>{var o,l,e,t;return(null===(l=null===(o=null==r?void 0:r.discount)||void 0===o?void 0:o.coupon)||void 0===l?void 0:l.id)?[null===(t=null===(e=null==r?void 0:r.discount)||void 0===e?void 0:e.coupon)||void 0===t?void 0:t.id]:[]},t=(r,o,l)=>{switch(l){case"all":return o.filter((o=>r.some((r=>o==r)))).length===o.length;case"any":return r.filter((r=>o.some((o=>r==o)))).length>=1;case"none":return 0===r.filter((r=>o.some((o=>r==o)))).length;case"exist":return r.length>=1;case"not_exist":return 0===r.length;default:return!1}},i=(r,o,l)=>{switch(l){case"==":return r===o;case"!=":return r!==o;case">":return r>o;case"<":return r<o;case"<=":return r<=o;case">=":return r>=o}return!1},c=class{constructor(o){r(this,o)}render(){var r,a;return r=this.rule_groups,a={checkout:u(),processor:null==n?void 0:n.id},(r||[]).some((({rules:r})=>((r,{checkout:o,processor:l})=>r.map((r=>{var n,u;const a=Array.isArray(null==r?void 0:r.value)?(null==r?void 0:r.value).map((r=>(null==r?void 0:r.value)||r)):null==r?void 0:r.value;switch(null==r?void 0:r.condition){case"total":return i(parseFloat(o.total_amount),parseFloat(a),null==r?void 0:r.operator);case"products":return t(e(o),a,null==r?void 0:r.operator);case"coupons":return t(s(o),a,null==r?void 0:r.operator);case"shipping_country":return t([null===(n=null==o?void 0:o.shipping_address)||void 0===n?void 0:n.country],a,null==r?void 0:r.operator);case"billing_country":return t([null===(u=null==o?void 0:o.billing_address)||void 0===u?void 0:u.country],a,null==r?void 0:r.operator);case"processors":return t([l],a,null==r?void 0:r.operator);default:return!1}})).every((r=>r)))(r,a)))?l(o,null,l("slot",null)):null}};c.style=":host{display:block}";export{c as sc_conditional_form};