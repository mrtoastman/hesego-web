import{r as s,c as t,h as i,g as h}from"./p-dfbe004d.js";import{b as e}from"./p-468023a1.js";import{F as a}from"./p-f1a6f9ec.js";import{i as n,m as o}from"./p-df8994cd.js";const r=class{constructor(i){s(this,i),this.scChange=t(this,"scChange",7),this.scInput=t(this,"scInput",7),this.scFocus=t(this,"scFocus",7),this.scBlur=t(this,"scBlur",7),this.size="medium",this.value="",this.pill=!1,this.showLabel=!0,this.help="",this.clearable=!1,this.disabled=!1,this.readonly=!1,this.required=!1,this.invalid=!1}async reportValidity(){return this.input.shadowRoot.querySelector("input").reportValidity()}async triggerFocus(t){return this.input.triggerFocus(t)}async setCustomValidity(t){this.input.setCustomValidity(t)}async triggerBlur(){return this.input.blur()}handleFocusChange(){var t,s,i,e;this.hasFocus?null===(s=null===(t=this.input)||void 0===t?void 0:t.focus)||void 0===s||s.call(t):null===(e=null===(i=this.input)||void 0===i?void 0:i.blur)||void 0===e||e.call(i)}handleChange(){this.updateValue()}handleInput(){this.updateValue(),this.scInput.emit()}updateValue(){if(!this.input.shadowRoot.querySelector("input").checkValidity())return;const t=n(this.currencyCode)?parseFloat(this.input.value):(100*parseFloat(this.input.value)).toFixed(2);this.value=this.input.value?t.toString():""}componentDidLoad(){this.handleFocusChange(),this.formController=new a(this.el).addFormData(),document.addEventListener("wheel",(()=>{this.input.triggerBlur()}))}disconnectedCallback(){var t;null===(t=this.formController)||void 0===t||t.removeFormData()}render(){return i("sc-input",{exportparts:"base, input, form-control, label, help-text, prefix, suffix",size:this.size,label:this.label,showLabel:this.showLabel,help:this.help,ref:t=>this.input=t,type:"number",name:this.name,disabled:this.disabled,readonly:this.readonly,required:this.required,placeholder:this.placeholder,minlength:this.minlength,maxlength:this.maxlength,min:this.min?this.min/100:0,step:.001,max:this.max?this.max/100:null,autofocus:this.autofocus,inputmode:"decimal",onScChange:()=>this.handleChange(),onScInput:()=>this.handleInput(),onScBlur:()=>this.scBlur.emit(),onScFocus:()=>this.scFocus.emit(),value:o(parseFloat(this.value),this.currencyCode).toString()},i("span",{style:{opacity:"0.5"},slot:"prefix"},e(this.currencyCode)),i("span",{slot:"suffix"},i("slot",{name:"suffix"},this.showCode&&(null==this?void 0:this.currencyCode)&&i("span",{style:{opacity:"0.5"}},this.currencyCode.toUpperCase()))))}get el(){return h(this)}static get watchers(){return{hasFocus:["handleFocusChange"]}}};r.style=":host{display:block}";export{r as sc_price_input};