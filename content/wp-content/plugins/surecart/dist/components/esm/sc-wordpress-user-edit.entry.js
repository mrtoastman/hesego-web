import{r as registerInstance,h}from"./index-fd4790f6.js";import{a as apiFetch}from"./fetch-34712ac6.js";import"./add-query-args-f4c5962b.js";const scWordpressUserEditCss=":host{display:block;position:relative}.customer-details{display:grid;gap:0.75em}",ScWordPressUserEdit=class{constructor(s){registerInstance(this,s)}renderEmpty(){return h("slot",{name:"empty"},wp.i18n.__("User not found.","surecart"))}async handleSubmit(s){this.loading=!0;try{const{email:e,first_name:a,last_name:r,name:t}=await s.target.getFormJson();await apiFetch({path:"wp/v2/users/me",method:"PATCH",data:{first_name:a,last_name:r,email:e,name:t}}),this.successUrl?window.location.assign(this.successUrl):this.loading=!1}catch(s){this.error=(null==s?void 0:s.message)||wp.i18n.__("Something went wrong","surecart"),this.loading=!1}}render(){var s,e,a,r;return h("sc-dashboard-module",{class:"account-details",error:this.error},h("span",{slot:"heading"},this.heading||wp.i18n.__("Account Details","surecart")," "),h("sc-card",null,h("sc-form",{onScFormSubmit:s=>this.handleSubmit(s)},h("sc-input",{label:wp.i18n.__("Account Email","surecart"),name:"email",value:null===(s=this.user)||void 0===s?void 0:s.email,required:!0}),h("sc-columns",{style:{"--sc-column-spacing":"var(--sc-spacing-medium)"}},h("sc-column",null,h("sc-input",{label:wp.i18n.__("First Name","surecart"),name:"first_name",value:null===(e=this.user)||void 0===e?void 0:e.first_name})),h("sc-column",null,h("sc-input",{label:wp.i18n.__("Last Name","surecart"),name:"last_name",value:null===(a=this.user)||void 0===a?void 0:a.last_name}))),h("sc-input",{label:wp.i18n.__("Display Name","surecart"),name:"name",value:null===(r=this.user)||void 0===r?void 0:r.display_name}),h("div",null,h("sc-button",{type:"primary",full:!0,submit:!0},wp.i18n.__("Save","surecart"))))),this.loading&&h("sc-block-ui",{spinner:!0}))}};ScWordPressUserEdit.style=scWordpressUserEditCss;export{ScWordPressUserEdit as sc_wordpress_user_edit};