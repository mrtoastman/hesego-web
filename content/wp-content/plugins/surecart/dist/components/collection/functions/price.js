import{__,_n,sprintf}from"@wordpress/i18n";export const convertAmount=(r,e)=>["bif","clp","djf","gnf","jpy","kmf","krw","xaf"].includes(e)?r:r/100;export const getHumanDiscount=r=>(null==r?void 0:r.amount_off)&&(null==r?void 0:r.currency)?getFormattedPrice({amount:r.amount_off,currency:r.currency}):(null==r?void 0:r.percent_off)?sprintf(__("%1d%% off","surecart"),0|r.percent_off):"";export const getFormattedDiscount=r=>(null==r?void 0:r.percent_off)?(0|r.percent_off)+"%":(null==r?void 0:r.amount_off)&&(null==r?void 0:r.currency)?getFormattedPrice({amount:r.amount_off,currency:r.currency}):"";export const getFormattedPrice=({amount:r,currency:e})=>{const t=convertAmount(r,e);return`${new Intl.NumberFormat(void 0,{style:"currency",currency:e}).format(parseFloat(t.toFixed(2)))}`};export const getCurrencySymbol=(r="usd")=>{const[e]=new Intl.NumberFormat(void 0,{style:"currency",currency:r}).formatToParts(0);return null==e?void 0:e.value};export const translateInterval=(r,e,t=__("every","surecart"),n=__("once","surecart"),o=!1)=>{switch(e){case"day":return`${t} ${sprintf(_n(o?"%d day":"day","%d days",r,"surecart"),r)}`;case"week":return`${t} ${sprintf(_n(o?"%d week":"week","%d weeks",r,"surecart"),r)}`;case"month":return`${t} ${sprintf(_n(o?"%d month":"month","%d months",r,"surecart"),r)}`;case"year":return`${t} ${sprintf(_n(o?"%d year":"year","%d years",r,"surecart"),r)}`;default:return n}};export const translateAbbreviatedInterval=(r,e,t=__("once","surecart"),n=!1)=>{switch(e){case"day":return` / ${sprintf(_n(n?"%d day":"day","%d days",r,"surecart"),r)}`;case"week":return` / ${sprintf(_n(n?"%d wk":"wk","%d wks",r,"surecart"),r)}`;case"month":return` / ${sprintf(n?_n("%d mo","%d months",r,"surecart"):_n("mo","%d mos",r,"surecart"),r)}`;case"year":return` / ${sprintf(_n(n?"%d yr":"yr","%d yrs",r,"surecart"),r)}`;default:return t}};export const intervalString=(r,e={})=>{if(!r)return"";const{showOnce:t,labels:n,abbreviate:o}=e,{interval:c=__("every","surecart")}=n||{};return`${intervalCountString(r,c,t?__("once","surecart"):"",o)} ${periodCountString(r,o)}`};export const intervalCountString=(r,e,t=__("once","surecart"),n=!1)=>r.recurring_interval_count&&r.recurring_interval?n?translateAbbreviatedInterval(r.recurring_interval_count,r.recurring_interval,t):translateInterval(r.recurring_interval_count,r.recurring_interval,` ${e}`,t):"";export const periodCountString=(r,e=!1)=>(null==r?void 0:r.recurring_period_count)?e?`x ${r.recurring_period_count}`:` (${sprintf(_n("%d payment","%d payments",r.recurring_period_count,"surecart"),r.recurring_period_count)})`:"";export const translateRemainingPayments=r=>sprintf(_n("%d payment remaining","%d payments remaining",r,"surecart"),r);