import{r as s,h as a}from"./p-dfbe004d.js";import{a as t}from"./p-d8453138.js";import"./p-1c2e2695.js";const e=class{constructor(a){s(this,a)}renderEmpty(){return a("slot",{name:"empty"},wp.i18n.__("User not found.","surecart"))}async handleSubmit(a){this.loading=!0;try{const{email:s,first_name:e,last_name:i,name:n}=await a.target.getFormJson();await t({path:"wp/v2/users/me",method:"PATCH",data:{first_name:e,last_name:i,email:s,name:n}}),this.successUrl?window.location.assign(this.successUrl):this.loading=!1}catch(a){this.error=(null==a?void 0:a.message)||wp.i18n.__("Something went wrong","surecart"),this.loading=!1}}render(){var s,e,t,i;return a("sc-dashboard-module",{class:"account-details",error:this.error},a("span",{slot:"heading"},this.heading||wp.i18n.__("Account Details","surecart")," "),a("sc-card",null,a("sc-form",{onScFormSubmit:a=>this.handleSubmit(a)},a("sc-input",{label:wp.i18n.__("Account Email","surecart"),name:"email",value:null===(s=this.user)||void 0===s?void 0:s.email,required:!0}),a("sc-columns",{style:{"--sc-column-spacing":"var(--sc-spacing-medium)"}},a("sc-column",null,a("sc-input",{label:wp.i18n.__("First Name","surecart"),name:"first_name",value:null===(e=this.user)||void 0===e?void 0:e.first_name})),a("sc-column",null,a("sc-input",{label:wp.i18n.__("Last Name","surecart"),name:"last_name",value:null===(t=this.user)||void 0===t?void 0:t.last_name}))),a("sc-input",{label:wp.i18n.__("Display Name","surecart"),name:"name",value:null===(i=this.user)||void 0===i?void 0:i.display_name}),a("div",null,a("sc-button",{type:"primary",full:!0,submit:!0},wp.i18n.__("Save","surecart"))))),this.loading&&a("sc-block-ui",{spinner:!0}))}};e.style=":host{display:block;position:relative}.customer-details{display:grid;gap:0.75em}";export{e as sc_wordpress_user_edit};