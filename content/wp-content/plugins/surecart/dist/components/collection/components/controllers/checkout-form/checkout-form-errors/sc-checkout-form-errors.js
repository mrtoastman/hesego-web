import{Component,h,Host,Prop}from"@stencil/core";import{__}from"@wordpress/i18n";import{openWormhole}from"stencil-wormhole";export class ScCheckoutFormErrors{getErrorMessage(r){return"order.line_items.price.blank"===r.code?__("This product is no longer purchasable.","surecart"):h("span",{innerHTML:null==r?void 0:r.message})}errorMessage(){var r,e,o,t,s,i;return(null===(o=null===(e=null===(r=this.error)||void 0===r?void 0:r.additional_errors)||void 0===e?void 0:e[0])||void 0===o?void 0:o.message)?this.getErrorMessage(null===(s=null===(t=this.error)||void 0===t?void 0:t.additional_errors)||void 0===s?void 0:s[0]):(null===(i=null==this?void 0:this.error)||void 0===i?void 0:i.message)?this.getErrorMessage(null==this?void 0:this.error):""}render(){return!this.errorMessage()||["finalizing","updating"].includes(this.checkoutState)?h(Host,{style:{display:"none"}}):h(Host,null,h("sc-alert",{type:"danger",scrollOnOpen:!0,open:!!this.errorMessage()},h("span",{slot:"title"},this.errorMessage())),h("slot",null))}static get is(){return"sc-checkout-form-errors"}static get encapsulation(){return"shadow"}static get properties(){return{checkoutState:{type:"string",mutable:!1,complexType:{original:"FormState",resolved:'"confirmed" | "confirming" | "draft" | "expired" | "failure" | "finalizing" | "idle" | "loading" | "paid" | "paying" | "redirecting" | "updating"',references:{FormState:{location:"import",path:"../../../../types"}}},required:!1,optional:!1,docs:{tags:[],text:"The current order."},attribute:"checkout-state",reflect:!1},error:{type:"unknown",mutable:!1,complexType:{original:"ResponseError | null",resolved:"ResponseError",references:{ResponseError:{location:"import",path:"../../../../types"}}},required:!1,optional:!1,docs:{tags:[],text:"Error to display."}}}}}openWormhole(ScCheckoutFormErrors,["checkoutState","error"],!1);